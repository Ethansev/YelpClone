<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YelpClone</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/home.css">
</head>

<body class="text-center text-dark bg-white"> <!-- class="d-flex text-center text-white bg-dark row" -->

    <div class=""> <!-- body div -->

        <div class="top-banner"> <!-- top banner -->

            <header>
                <div class="top-nav"> <!-- navigation -->
                    <div>
                        <h3 class="float-md-start mb-0 logo">YelpClone</h3>
                        <!-- search input goes here -->
                        <nav class="nav nav-masthead justify-content-center float-md-end">
                            <a href="#" class="nav-link active" aria-current="page">Home</a>
                            <a href="/campgrounds" class="nav-link">Campgrounds</a>
                            <% if(!currentUser){ %>
                            <a href="/login" class="nav-link-login">
                                <span>Log in</span>
                            </a>
                            <a href="/register" class="nav-link-register">
                                <span>Sign Up</span>
                            </a>
                            <% }else { %>
                            <a href="/logout" class="nav-link-logout">Logout</a> 
                            <% } %>
                        </nav>
                    </div>
                </div> 
            </header>

            <div class="hero-content"> <!-- call to action? content? idk -->
                <div class="text-wrapper">
                    <h1 style="color: white">Tell pests to bug off</h3>
                </div>
            </div>

        </div> <!-- end of top banner div -->

        <div class="container section-block"> 
            <h2>Recent Activity</h2>
            <% for(let campground of campgrounds.reverse()){ %>
                <div class="card mb-3">
                    <div class="row">
                        <div class="col-md-4"> <!-- 4 units out of 12 so basically a 3rd -->
                            <!-- logic to check if there are any images in the array, which used to this page because the code would try displaiyng an image that wasn't there-->
                            <% if(campground.images.length){ %> 
                            <img class="img-fluid" alt="" src="<%= campground.images[0].url %>">
                            <% }else{ %>
                            <img class="img-fluid" alt="" src=""> <!-- I can add a default image if I wanted (should add one to the db and overwrite over it)-->
                            <% } %> 
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title"><%= campground.title %></h5>
                                <p class="card-text"><%= campground.description %></p>
                                <p class="card-text">
                                    <small class="text-muted"><%= campground.location %></small>
                                </p>
                                <a class="btn btn-primary" href="/campgrounds/<%= campground._id %>">View <%= campground.title%></a>
                            </div>
                        </div>
                    </div>
                </div>
            <% } %>
        </div>
        
        <!-- need to adjust the code that iterates through each campground, checks if it has reviews, and displays them 
        <div class="container section-block"> 
            <h2>Categories</h2>
            <% for(let campground of campgrounds.reverse()) { %>
                <% for(let review of campgrounds){ %>
                    <% if(Object.keys(review).length !== 0){ %>
                        <div class="mb-3 card">
                            <div class="card-body">
                                <h5 class="card-title"><%= review.author.username %></h5>
                                <p class="starability-result" data-rating="<%= review.rating %>">Rated: <%= review.rating %> stars</p>
                                --><!-- <h6 class="card-subtitle mb-2 text-muted">By <%= review.author.username %></h6> --><!--
                                <p class="card-text">Review: <%= review.body %></p>
                            </div>
                        </div>
                    <% } %> 
                <% } %>
            <% } %>
        </div> -->

        <div class="container"> <!-- just another block -->
            <main class="px-3 .bg-secondary.bg-gradient p-2 bg-opacity-25">
                <h2>Yelpclone</h2>
                <p class="lead"><strong>
                    Welcome to the first deployment of Yelp Clone! Version 1.0. This project is still a work in progress! Yelp Clone has complete crud functionality, but the campground data is mostly empty. The plan is to use the nps.gov api to fetch campground data instead of seeding it myself. The entire UI will be redesigned! I wanted to focus on setting up the infrastructure before we make everything pretty :) <br><br>Use <strong>Guest</strong> for both username and password to demo.</strong> 
                </p>
                <a href="/campgrounds" class="btn btn-lg btn-primary font-weight-bold border-dark bg-dark">View Campgrounds</a>
            </main>
        </div>

        <div class="container mt-auto"> <!-- footer div -->
            <footer class="text-white-50">  
                <p>&copy; 2022 YelpClone</p>
            </footer>
        </div>

    </div> <!-- end of main div -->
</body>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>
</body>
</html>